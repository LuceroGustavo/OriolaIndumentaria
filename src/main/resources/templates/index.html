<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Orioladenim - Indumentaria Premium</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/lovely-style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header-container">
        <div class="header-content">
            <div class="header-top">
                <a href="/" class="logo">Orioladenim</a>
                
                <div class="header-nav">
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a href="/" class="nav-link active">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a href="/catalog" class="nav-link">Catálogo</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="javascript:void(0)" class="nav-link dropdown-toggle">Categorías</a>
                            <div class="dropdown-menu">
                                <div class="dropdown-grid">
                                    <div class="dropdown-column">
                                        <div class="dropdown-column-title">Remeras</div>
                                        <a href="/catalog?category=REMERAS" class="dropdown-item">Remeras</a>
                                        <a href="/catalog?category=REMERAS" class="dropdown-item">Remeras Básicas</a>
                                        <a href="/catalog?category=REMERAS" class="dropdown-item">Remeras Estampadas</a>
                                    </div>
                                    <div class="dropdown-column">
                                        <div class="dropdown-column-title">Pantalones</div>
                                        <a href="/catalog?category=PANTALONES" class="dropdown-item">Pantalones</a>
                                        <a href="/catalog?category=PANTALONES" class="dropdown-item">Jeans</a>
                                        <a href="/catalog?category=PANTALONES" class="dropdown-item">Pantalones de Vestir</a>
                                    </div>
                                    <div class="dropdown-column">
                                        <div class="dropdown-column-title">Camisas</div>
                                        <a href="/catalog?category=CAMISAS" class="dropdown-item">Camisas</a>
                                        <a href="/catalog?category=CAMISAS" class="dropdown-item">Camisas de Vestir</a>
                                        <a href="/catalog?category=CAMISAS" class="dropdown-item">Camisas Casuales</a>
                                    </div>
                                    <div class="dropdown-column">
                                        <div class="dropdown-column-title">Otros</div>
                                        <a href="/catalog?category=BUZOS" class="dropdown-item">Buzos</a>
                                        <a href="/catalog?category=VESTIDOS" class="dropdown-item">Vestidos</a>
                                        <a href="/catalog?category=SHORTS" class="dropdown-item">Shorts</a>
                                        <a href="/catalog?category=CHOMBAS" class="dropdown-item">Chombas</a>
                                        <a href="/catalog" class="dropdown-item special">Ver Todo</a>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="header-actions">
                    <div class="search-bar">
                        <input type="text" class="search-input" placeholder="Buscar productos...">
                    </div>
                    <div class="header-icons">
                        <a href="https://www.instagram.com/oriolaindumentaria" class="header-icon" title="Instagram" target="_blank">
                            <i class="bi bi-instagram"></i>
                        </a>
                        <a href="https://www.facebook.com/oriolaindumentaria" class="header-icon" title="Facebook" target="_blank">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="https://wa.me/5491159293920" class="header-icon" title="WhatsApp" target="_blank">
                            <i class="bi bi-whatsapp"></i>
                        </a>
                        <a href="/admin/login" class="header-icon" title="Administración">
                            <i class="bi bi-gear"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>




    <!-- Products Section -->
    <section class="products-section">
        <div class="container">
            <h2 class="section-title">Novedades</h2>
            <div class="products-grid">
                <div th:each="product : ${products}" class="product-card">
                    <a th:href="@{/product/{id}(id=${product.pId})}" class="text-decoration-none text-dark">
                        <div class="product-image-container">
                            <img th:src="${product.images != null and !product.images.empty ? '/uploads/' + product.images[0].imagePath : 'https://via.placeholder.com/350x350/f8f9fa/666666?text=ORIOLA'}" 
                                 th:alt="${product.name}" class="product-image">
                        </div>
                        <div class="product-info">
                            <h3 class="product-name" th:text="${product.name}">Nombre del Producto</h3>
                            <div class="product-price">
                                <span th:if="${product.precioOriginal != null and product.precioOriginal > product.price}" 
                                      class="product-price-original" th:text="'$' + ${#numbers.formatDecimal(product.precioOriginal, 0, 0)}">$0</span>
                                <span th:text="'$' + ${#numbers.formatDecimal(product.price, 0, 0)}">$0</span>
                                <span th:if="${product.descuentoPorcentaje != null and product.descuentoPorcentaje > 0}" 
                                      class="product-discount" th:text="'-' + ${#numbers.formatDecimal(product.descuentoPorcentaje, 0, 0)} + '%'">-0%</span>
                            </div>
                            <div class="product-colors" th:if="${product.coloresDisponibles != null and !#strings.isEmpty(product.coloresDisponibles)}">
                                <div th:each="color : ${#strings.arraySplit(product.coloresDisponibles, ',')}" 
                                     class="color-dot" 
                                     th:style="'background-color: ' + ${color.trim()}" 
                                     th:title="${color.trim()}"></div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/5491159293920?text=Hola!%20Me%20interesa%20conocer%20más%20sobre%20sus%20productos" 
       class="whatsapp-button" target="_blank">
        <i class="bi bi-whatsapp"></i>
    </a>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="row">
                <div class="col-md-4">
                    <div class="footer-section">
                        <h3 class="footer-title">Orioladenim</h3>
                        <p>Indumentaria premium con estilo único. Calidad y diseño en cada prenda.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="footer-section">
                        <h3 class="footer-title">Enlaces</h3>
                        <ul class="footer-links">
                            <li><a href="/catalog">Catálogo</a></li>
                            <li><a href="/about">Sobre Nosotros</a></li>
                            <li><a href="/contact">Contacto</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="footer-section">
                        <h3 class="footer-title">Contacto</h3>
                        <ul class="footer-links">
                            <li><a href="https://wa.me/5491159293920">WhatsApp</a></li>
                            <li><a href="mailto:info@orioladenim.com.ar">Email</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Orioladenim. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Dropdown functionality
        document.addEventListener('DOMContentLoaded', function() {
            console.log('JavaScript cargado');
            
            const dropdown = document.querySelector('.dropdown');
            const toggle = document.querySelector('.dropdown-toggle');
            const menu = document.querySelector('.dropdown-menu');
            
            if (dropdown && toggle && menu) {
                console.log('Elementos encontrados');
                
                // Hover events
                dropdown.addEventListener('mouseenter', function() {
                    console.log('Mouse enter en categorías');
                    dropdown.classList.add('active');
                    menu.style.display = 'block';
                    menu.style.opacity = '1';
                    menu.style.visibility = 'visible';
                    menu.style.transform = 'translateX(-60%) translateY(0)';
                });
                
                dropdown.addEventListener('mouseleave', function() {
                    console.log('Mouse leave en categorías');
                    dropdown.classList.remove('active');
                    menu.style.opacity = '0';
                    menu.style.visibility = 'hidden';
                    menu.style.transform = 'translateX(-60%) translateY(-10px)';
                    setTimeout(() => {
                        menu.style.display = 'none';
                    }, 300);
                });
                
                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    if (!dropdown.contains(e.target)) {
                        dropdown.classList.remove('active');
                        menu.style.opacity = '0';
                        menu.style.visibility = 'hidden';
                        menu.style.transform = 'translateX(-50%) translateY(-10px)';
                        setTimeout(() => {
                            menu.style.display = 'none';
                        }, 300);
                    }
                });
            } else {
                console.log('No se encontraron elementos del dropdown');
            }
        });
    </script>
</body>
</html>