"use strict";(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[77387],{247375:(e,o,t)=>{t.d(o,{AT:()=>V,Bo:()=>C,Cy:()=>u,EE:()=>T,K9:()=>f,Ki:()=>B,Mu:()=>w,Nt:()=>P,Ox:()=>M,Pj:()=>p,QS:()=>l,UM:()=>_,eD:()=>m,eY:()=>N,fr:()=>A,gA:()=>n,kX:()=>D,mP:()=>S,nY:()=>L,qT:()=>k,vE:()=>h,xT:()=>b});var i=t(839471),a=t(890833);const{IconPromotionTypeIds:r}=a.A,n=e=>{var o;let t={};const{language_mall_name:i,mall_tags:a,mall_name:r}=(null===(o=e.mallInfoList)||void 0===o?void 0:o.find((o=>o.mall_code===e.mall_code)))||{};if(!a)return{mallTagsInfo:t,localMallReady:!0};const n=a.includes("4"),l=a.includes("5");return Object.assign(t,{localMall:l&&!n,mall_tags:a,language_mall_name:i,mall_name:r}),{mallTagsInfo:t,localMallReady:!0}},l=(e,o)=>{var t;const i=null==e||null===(t=e.productMaterial)||void 0===t?void 0:t.hisLowPriceLabel;if(null==i||!i.tip||!["lowerPrice","followPrice"].includes(i.styleType))return{};const a={backgroundColor:i.labelBgColor,fontColor:i.tagColor,labelLang:i.tip,appTraceInfo:i.appTraceInfo,icon:i.icon,day:i.day};return"lowerPrice"===i.styleType?(o.pcStandardView.historicalPrice=[a],o.pcBroadwiseView.historicalPrice=[a],{historicalPrice:a}):"followPrice"===i.styleType?(o.pcStandardView.followPrice=a,o.pcBroadwiseView.followPrice=a,{followPrice:a}):void 0},s={upperRightFlexibleLabel:"upperRightFlexibleLabel",upperLeftPositionInfo:"UPPER_LEFT_LABEL",upperRightPositionInfo:"UPPER_RIGHT_LABEL",lowerLeftPositionInfo:"LOWER_LEFT_LABEL",lowerRightPositionInfo:"LOWER_RIGHT_LABEL"},c=(e,o)=>{const t={},i=e.productMaterial;return Object.keys(s).forEach((a=>{var r;const n=null==i||null===(r=i[a])||void 0===r?void 0:r[o];if(n){t[s[a]]=((e,o)=>{const{contentType:t}=o;return"color_information"===t?((e,o)=>{var t,i;return{relatedColor:null==e||null===(t=e.relatedColorNew)||void 0===t?void 0:t.map((e=>({goods_color_image:e.colorImage,goods_id:e.goods_id}))),materialValueKey:o.contentType,appTraceInfo:o.appTraceInfo,relatedColorCount:null==e||null===(i=e.relatedColorNew)||void 0===i?void 0:i.length}})(e,o):"subscript"===t?(e=>({corner_img_left:e.image,corner_img_right:e.image,materialValueKey:e.displayType,appTraceInfo:e.appTraceInfo}))(o):(e=>{let o=null;return"lower_right_attr_labels"===e.contentType&&(o={isShowColorBlock:"noShow",appTraceInfo:e.appTraceInfo,icon:e.image||"",type:e.displayType,textList:[{labelLang:e.labelLang}]}),o?{cornerPropertyUpsell:o,appTraceInfo:o.appTraceInfo}:{icon:e.image,fontColor:e.fontColor,backgroundColor:e.backgroundColor,borderColor:e.borderColor,labelLang:e.labelLang,subscriptType:e.displayType,materialValueKey:e.contentType,appTraceInfo:e.appTraceInfo}})(o)})(e,n)}})),t},u=(e,o)=>null!=o&&o.noLocateLabels?{pcStandardView:{},pcBroadwiseView:{}}:{pcStandardView:c(e,"twoColumnStyle"),pcBroadwiseView:c(e,"oneColumnStyle")},d=(e,o)=>{var t;const i=null!==(t=null==o?void 0:o.lang)&&void 0!==t?t:"",a=e.retailDiscountPercent,r=e.aggregateMemberResult,{discountAmount:n,convertDiscountValue:l,discountPercentFromRetailPrice:s}=r;return{price:e.price,unitPrice:e.unitPrice,isInversion:e.isInversion,discount_amount:n,discountValue:l,discountPercent:s,retail_discount_percent:a,retail_discount_price:e.retailDiscountPrice,suggestedSalePrice:e.suggestedSalePrice,srpDiscount:e.srpDiscount,srpDiscountPrice:e.srpDiscountPrice,retailDiscountPercentString:a>0?`${"il"!==i?"-":""}${a}%`:"",discountPercentString:s>0?`${"il"!==i?"-":""}${s}%`:"",srpDiscountPercentString:(null==e?void 0:e.srpDiscount)>0?`${"il"!==i?"-":""}${e.srpDiscount}%`:""}},p=(e,o)=>{var t,i,a,r,n,l;const s=null!==(t=null==o?void 0:o.lang)&&void 0!==t?t:"",c={};if(e.unit_discount&&(c.unitDiscountString=e.unit_discount>0?`${"il"!==s?"-":""}${e.unit_discount}%`:""),null!==(i=e.estimatedPriceInfo)&&void 0!==i&&i.isSatisfied&&(c.estimatedPriceInfo=((e,o)=>{var t,i,a,r,n;const l=null!==(t=null==o?void 0:o.isPaid)&&void 0!==t&&t,s=null!==(i=null==o?void 0:o.lang)&&void 0!==i?i:"",c=e.estimatedPriceInfo,u=c.estimatedDiscount,d={satisfied:c.isSatisfied,estimatedPrice:c.estimatedPrice,estimatedDiscountPrice:c.total_discount_value,estimatedDiscount:u>0?`${"il"!==s?"-":""}${u}%`:"",estimatedLang:c.estimatedMultiLang,estimatedPriceType:3,endTime:null!==(a=c.endTime)&&void 0!==a?a:""},p=null==e||null===(r=e.promotionInfo)||void 0===r?void 0:r.find((e=>29==+e.typeId));return l&&p&&(d.estimatedPriceType=2),(null==e||null===(n=e.promotionInfo)||void 0===n?void 0:n.find((e=>12==+e.typeId)))&&(d.estimatedPriceType=4),d})(e,o)),(null===(a=e.srpPriceInfo)||void 0===a||null===(r=a.srpPrice)||void 0===r?void 0:r.amount)>0){const o=e.srpDiscount;c.srpDiscountPercentString=o>0?`${"il"!==s?"-":""}${o}%`:""}const u=e.promotionInfo;if(!u)return c;const p=u.find((e=>29==+e.typeId)),_=u.find((e=>10==+e.typeId)),m=u.find((e=>12==+e.typeId));if(p&&null!=p&&null!==(n=p.price)&&void 0!==n&&n.amount&&(c.sheinClubPromotionInfo=((e,o,t)=>d(o,t))(0,p,o)),m&&null!=m&&null!==(l=m.price)&&void 0!==l&&l.amount&&(c.exclusivePromotionInfo=((e,o,t)=>d(o,t))(0,m,o),c.exclusivePromotionPrice=c.exclusivePromotionInfo.price),_){var g;const e=null==_||null===(g=_.price)||void 0===g?void 0:g.amount;4==+_.flash_type&&e?c.flashZonePromotion=((e,o,t)=>{var i;const a=null!==(i=null==t?void 0:t.lang)&&void 0!==i?i:"",{discountAmount:r={},convertDiscountValue:n=0,discountPercentFromRetailPrice:l=0}=o.aggregatePromotionBusiness;return{isInversion:o.isInversion,price:null==o?void 0:o.price,unitPrice:o.unitPrice,typeId:o.typeId,flash_type:+o.flash_type,discount_amount:r,discountValue:n,discountPercent:l,discount_percent:l,retail_discount_percent:o.retailDiscountPercent,retail_discount_price:o.retailDiscountPrice,suggestedSalePrice:o.suggestedSalePrice,srpDiscount:o.srpDiscount,srpDiscountPrice:o.srpDiscountPrice,srpDiscountPercentString:o.srpDiscount>0?`${"il"!==a?"-":""}${o.srpDiscount}%`:"",discountPercentString:n>0?`${"il"!==a?"-":""}${n}%`:"",retailDiscountPercentString:o.retailDiscountPercent>0?`${"il"!==a?"-":""}${o.retailDiscountPercent}%`:""}})(0,_,o):[2,3].includes(+_.flash_type)&&e&&(c.newFlashPromotion=((e,o,t)=>{var i;const a=t.language,r=null!==(i=null==t?void 0:t.lang)&&void 0!==i?i:"",n=new Map([[2,a.SHEIN_KEY_PWA_21928],[3,a.SHEIN_KEY_PWA_21932]]),{discountAmount:l={},convertDiscountValue:s=0,discountPercentFromRetailPrice:c=0}=o.aggregatePromotionBusiness;return{isInversion:o.isInversion,price:o.price,unitPrice:o.unitPrice,flash_type:+o.flash_type,typeId:o.typeId,flashTypeText:n.get(+o.flash_type)||"",discount_amount:l,discountValue:s,discountPercent:c,discount_percent:c,retail_discount_percent:o.retailDiscountPercent,retail_discount_price:o.retailDiscountPrice,suggestedSalePrice:o.suggestedSalePrice,srpDiscount:o.srpDiscount,srpDiscountPrice:o.srpDiscountPrice,srpDiscountPercentString:o.srpDiscount>0?`${"il"!==r?"-":""}${o.srpDiscount}%`:"",discountPercentString:s>0?`${"il"!==r?"-":""}${s}%`:"",retailDiscountPercentString:o.retailDiscountPercent>0?`${"il"!==r?"-":""}${o.retailDiscountPercent}%`:""}})(0,_,o)),[2,3].includes(+_.flash_type)||(c.flashsale=1)}return c},_=(e,o,t)=>{var i;const a=null!==(i=null==t?void 0:t.lang)&&void 0!==i?i:"",r=(null==o?void 0:o.suggestedSaleType)||"",{newFlashPromotion:n}=o.pretreatInfo,{unit_discount:l,retailDiscountPercent:s,retailDiscountPrice:c}=e,u=l,d=s;if(!(r||u&&0!==Number(u))&&!n)return!1;const p=null==n?void 0:n.discount_percent,_=p||u,m=(null==n?void 0:n.retail_discount_percent)||d,g=_>0?`${"il"!==a?"-":""}${_}%`:"";return{show:!!g,suggestedSalePriceType:r,unitDiscountString:g,originDiscountRate:l/100,newFlashDiscount:p,retailDiscountPrice:c,retailDiscountPercent:d,retailDiscountPercentString:m>0?`${"il"!==a?"-":""}${m}%`:""}},m=(e,o,t)=>{const i=(null==o?void 0:o.suggestedSaleType)||"";if(!i)return null;const a=null==t?void 0:t.hideSuggestedSalePrice,r=null==t?void 0:t.language;let n="",l="";["special","special_de"].includes(i)&&(n=r.SHEIN_KEY_PC_30516||"lowest price",l=r.SHEIN_KEY_PC_31050||"This is the original price which is also the lowest price in the 30 days prior to the reduction");return{pricePopoverLang:l,lowestPriceLabelLang:n,type:i,config:{hideDiscount:"special_de"!==i,hideSuggestedSalePrice:!!a,hideTargetBySuggestedSalePrice:!0,cartHideEstimatedPrice:!0}}},g=(e,o,t)=>{var i,a,r;const n=null===(i=e.productMaterial.pictureBelt)||void 0===i?void 0:i[t];if(!n||["userFlash"].includes(null==n?void 0:n.component))return null;const l=n.labelLang||"";let s={materialValueKey:n.materialValueKey,ana:n.appTraceInfo,component:n.component,bgImage:n.bgImage,shapedImage:n.shapedImage,bigCardBgImageSize:n.bigCardBgImageSize,bigCardBgImage:n.bigCardBgImage,transparentImage:n.transparentImage,bigCardTransparentImage:n.bigCardTransparentImage,fontColor:n.fontColor,saveFontColor:n.saveFontColor,labelLang:n.labelLang,saveLabelLang:n.saveLabelLang,bgImageSize:n.bgImageSize,shapedImageSize:n.shapedImageSize,savePrice:null!==(a=null===(r=n.discountPrice)||void 0===r?void 0:r.amountWithSymbol)&&void 0!==a?a:"",icon:n.icon,currentTime:Date.now(),endTime:n.endTime?1e3*n.endTime:0,estimatedLabelLang:l};if("flash_purchase_belt"===n.materialValueKey){const t=e.promotionInfo.find((e=>10==+e.typeId));if(t&&null!=t&&t.endTimestamp&&1e3*Number(null==t?void 0:t.endTimestamp)>s.currentTime){var c,u;const{estimatedDiscountPrice:e}=(null==o?void 0:o.estimatedPriceInfo)||{},{discountPrice:i,retailDiscountPrice:a}=o||{},r=e||i,l=!(null===(c=o.flashZonePromotion)||void 0===c||null===(u=c.price)||void 0===u||!u.amountWithSymbol);if(2==(null==t?void 0:t.flash_type)||3==(null==t?void 0:t.flash_type))return;if(4==(null==t?void 0:t.flash_type)&&!l)return;s={ana:n.appTraceInfo,endTime:1e3*Number(null==t?void 0:t.endTimestamp),savedPrice:r,savedPriceText:(null==r?void 0:r.amountWithSymbol)||"",retailDiscountPrice:a,component:"flash_purchase_belt",labelLang:n.labelLang,saveLabelLang:n.saveLabelLang}}}else if("firstBuyVoucher"===n.component){const{labelLang:e,emphasizedText:o,appTraceInfo:t}=n,i=null==e?void 0:e.split(o);let a="",r="",l="";null!=e&&e.includes(o)?(r=o,a=e.replace(o,""),0!==(null==e?void 0:e.indexOf(o))&&(l=(null==i?void 0:i[0])||"")):a=e,s={offText:a,symbol:l,discountValue:r,isVoucherBelt:!0,ana:t}}return s},f=(e,o,t)=>({pcStandardView:g(e,o,"twoColumnStyle"),pcBroadwiseView:g(e,o,"oneColumnStyle")}),v=(e,o)=>{var t,i;const a=null!==(t=null===(i=e.rankInfo)||void 0===i?void 0:i[o])&&void 0!==t?t:{};return null!=a&&a.carrierId?{rankingType:a.materialValueKey,carrierSubType:a.carrierSubType,composeIdText:a.composeIdText,rankTypeText:a.rankTypeText,rankStrategy:a.strategy||"-",icon:a.icon,backgroundColor:a.bgColor,fontColor:a.tagColor,contentCarrierId:a.carrierId,title:a.title,ana:a.appTraceInfo,cateIds:a.cateId,boardGenerateType:a.boardGenerateType,srcIdentifier:a.srcIdentifier,carrierSubTypeName:a.carrierSubTypeName,carrierType:a.carrierType,carrierTypeName:a.carrierTypeName,infoFlow:a.infoFlow,score:a.score||""}:null},b=e=>({pcStandardView:v(e,"twoColumnStyle"),pcBroadwiseView:v(e,"oneColumnStyle")}),I=(e,o={})=>{const t=Number(e.comment_rank_average);if(isNaN(t)||0===t)return null;let i=new Array(parseInt(t)).fill('<i class="sh_pc_sui_icon sh_pc_sui_icon_star_5_16px_1_honor"></i>');const a=Number(parseFloat(t).toFixed(2).split(".")[1])||0;if(a>0&&(a<=25?i.push('<i class="sh_pc_sui_icon sh_pc_sui_icon_star_2_16px_1_honor"></i>'):a<=50?i.push('<i class="sh_pc_sui_icon sh_pc_sui_icon_star_3_16px_1_honor"></i>'):a<=99&&i.push('<i class="sh_pc_sui_icon sh_pc_sui_icon_star_4_16px_1_honor"></i>')),i.length<5){const e=new Array(5-i.length).fill('<i class="sh_pc_sui_icon sh_pc_sui_icon_star_1_16px_1_honor"></i>');i.push(...e)}const r={star_html:i.join(""),comment_num:e.comment_num,comment_num_str:e.comment_num_show,comment_rank_average:e.comment_rank_average};return Object.assign(r,o)},y=(e,o)=>{var t,i;const a=(null==o?void 0:o.rowKey)||"TWO_IN_A_ROW";return(null!==(t=null===(i=e.productMaterial)||void 0===i?void 0:i.productAttributeLabelList)&&void 0!==t?t:[]).map((o=>{switch(o.contentType){case"number_of_comments":{const t=I(e,{tagId:o.tagId});return t?{materialValueKey:"number_of_comments",starComment:t}:null}case"custom":return{materialValueKey:"custom",userBehaviorLabel:{appTraceInfo:o.behaviorLabel.appTraceInfo,labelLang:o.behaviorLabel.tagName,fontColor:o.behaviorLabel.tagColor,backgroundColor:o.behaviorLabel.bgColor,labelId:o.behaviorLabel.tagId,icon:o.behaviorLabel.icon}};case"user_comment":return{userCommentKeywordsLabel:{appTraceInfo:o.userComments.appTraceInfo,labelLang:o.userComments.tagName}};case"artificial_selling_point":return{sellingPoints:e.sellingPoint};case"decision_attributes":return{decisionAttrList:e.featureSubscript.filter((e=>"show_attr"===e.feature_type&&e.feature_show_type===a)).map((e=>({feature_show_type:e.feature_show_type,attrId:e.feature_id,name:e.feature_name,"name-en":e.feature_name_en})))};case"quick_ship":return{quickship:{suiIcon:"sh_pc_sui_icon_qucikship_flat_{0}_198055",fontColor:"#198055",labelLang:e.productInfoLabels.quickShipLabel.labelLang,labelCustomType:"quickship"}}}})).filter((e=>e))},L=e=>({pcStandardView:y(e,{rowKey:"TWO_IN_A_ROW"}),pcBroadwiseView:y(e,{rowKey:"ONE_IN_A_ROW"})}),h=e=>{var o,t;return(null!==(o=null===(t=e.productMaterial)||void 0===t?void 0:t.v2ProductAttributeLabelList)&&void 0!==o?o:[]).map((o=>{switch(o.contentType){case"number_of_comments":{const t=I(e,{appTraceInfo:o.appTraceInfo,tagId:o.tagId});return t?{starComment:t}:null}case"quick_ship":return{userBehaviorLabel:{appTraceInfo:o.appTraceInfo,labelLang:o.labelLang,italicIcon:!0,fontColor:"#198055",suiIcon:"sh_pc_sui_icon_qucikship_flat_{0}_198055",labelCustomType:"quickship"}};case"custom":return{userBehaviorLabel:{labelLang:o.labelLang,appTraceInfo:o.appTraceInfo,fontColor:o.fontColor,backgroundColor:o.backgroundColor,labelId:o.tagId,icon:o.icon}};case"ranking":return{rankingList:{isTypeMatch:!0,tagId:o.tagId}}}})).filter((e=>e))},P=(e,o={mixPromotionInfo:[]})=>{var t,i;const a=null!==(t=null===(i=e.productMaterial)||void 0===i?void 0:i.productServiceLabelList)&&void 0!==t?t:[],r=o.mixPromotionInfo||[],n=[],l=a.map((o=>{var t,i;switch(o.contentType){case"custom":return n.push({contentType:"custom",appTraceInfo:(i=o).appTraceInfo,fontColor:i.fontColor,backgroundColor:i.backgroundColor,icon:i.icon,labelId:i.tagId,labelLang:i.labelLang}),!1;case"quick_ship":return(o=>{const t=e.productInfoLabels.quickShipLabel,i="strengthen"===o.displayStyle;return{quickship:{appTraceInfo:o.appTraceInfo,labelLang:t.tag_val_name_lang,italicText:!!i,newStyle:!!i,suiIcon:i?"sh_pc_sui_icon_qucikship_flat_{0}_198055":""}}})(o);case"local_shipping":return(()=>{var o;const t=e.productInfoLabels.localDelivery;return{localMall:{appTraceInfo:`show_service_label_local_shipping_${null===(o=t.tag_val_name_lang)||void 0===o?void 0:o.toLocaleLowerCase()}`.replace(/\x20/g,"_"),labelLang:t.tag_val_name_lang}}})();case"promotion_label":return{promotionLabel:null==r||null===(t=r[0])||void 0===t?void 0:t.lable};case"quality_shop_label":return{qualityShopLabel:{contentType:"quality_shop_label",labelLang:o.labelLang,tagId:o.tagId,appTraceInfo:o.appTraceInfo,suiIcon:"sh_pc_sui_icon_quality_shop_flat_14px"}};case"local_stock":return{localStock:{contentType:"local_stock",labelLang:o.labelLang,fontColor:o.fontColor,backgroundColor:o.backgroundColor,appTraceInfo:o.appTraceInfo,icon:o.icon}}}})).filter((e=>!!e));return n.length>0&&l.push({universalLabel:n}),l},S=e=>{const o=e.storeInfo;return{storeCode:(null==e?void 0:e.store_code)||"",title:o.storeName,storeBusinessType:2}},T=e=>{var o;const t=null===(o=e.productMaterial)||void 0===o?void 0:o.trendLabel;if(["qualityStore","fashionStore","brandStore"].includes(t.trendType)){var i,a,r,n,l,s;const e="qualityStore"===(null==t?void 0:t.trendType),o="fashionStore"===(null==t?void 0:t.trendType),c="brandStore"===(null==t?void 0:t.trendType);return{storeInfo:{attributeLabelList:null!==(i=t.attributeLabelList)&&void 0!==i?i:[],isModStore:o,isChoiceStore:e,isBrandStore:c,appTraceInfo:t.appTraceInfo,storeCode:t.trendShopCode,title:t.trendLabel.labelName,logo:t.fashionStoreLogo,jumpHomeTab:"homeTab"===t.trendStoreTabAbtValue},deliveryInfo:{trendType:t.trendType,img:null===(a=t.trendIpImg)||void 0===a?void 0:a.imgUrl,icon:null===(r=t.trendLabel)||void 0===r?void 0:r.icon,labelName:null===(n=t.trendLabel)||void 0===n?void 0:n.labelName,bgColor:null===(l=t.trendLabel)||void 0===l?void 0:l.bgColor,fontColor:null===(s=t.trendLabel)||void 0===s?void 0:s.fontColor,appTraceInfo:t.appTraceInfo}}}var c,u,d,p,_;return"trend"===t.trendType?{deliveryInfo:{trendType:t.trendType,appTraceInfo:t.appTraceInfo,img:null===(c=t.trendIpImg)||void 0===c?void 0:c.imgUrl,display_title:null===(u=t.trendLabel)||void 0===u?void 0:u.labelName,product_select_id:t.productSelectId,product_select_url_id:t.productSelectUrlId,trend_word_id:t.trendWordId}}:"qualityWord"===t.trendType?{deliveryInfo:{trendType:t.trendType,img:null===(d=t.trendIpImg)||void 0===d?void 0:d.imgUrl,imgWidth:null===(p=t.trendIpImg)||void 0===p?void 0:p.width,display_title:null===(_=t.trendLabel)||void 0===_?void 0:_.labelName,appTraceInfo:t.appTraceInfo,...t.sellPointWordInfo}}:void 0},w=e=>{var o,t;const i=null!==(o=null===(t=e.productMaterial)||void 0===t?void 0:t.maskLayer)&&void 0!==o?o:{};return{maskLayerSrc:i.image,maskLayerWidth:i.width,maskLayerHeight:i.height,appTraceInfo:i.appTraceInfo}},k=(e,o)=>{var t,a;const r=null==o?void 0:o.language,n=null===(t=e.skuInventoryList)||void 0===t?void 0:t.find((o=>o.sku_code==e.sku_code)),l=null==n||null===(a=n.mall_inventory_list)||void 0===a?void 0:a.find((o=>o.mall_code==e.mall_code)),s=null==l?void 0:l.inventory,c=e.sku_code||+e.originalAttrValueId?s:e.stock;return{sizeStock:s||"",stockLeft:+c>0&&+c<10?(0,i.v)(c,r.SHEIN_KEY_PC_16400):"",stockLeftReady:!0}},C=e=>{const o=e.skuAttrStr;return{label:o,analysis:o?`attribute_show_${o}`:"attribute_null"}},V=(e,o)=>{const t=null==o?void 0:o.language,a=e.reducePrice;return{label:(0,i.v)(a.amountWithSymbol,t.SHEIN_KEY_PC_16553||"{0} less than when added"),usdAmount:a.usdAmount}},D=e=>({searchFilters:e.attrs.map((e=>({...e,id:`${e.attr_id}_${e.attr_value_id}`,filterId:e.attr_value_id,filterWord:e.attr_values,dataSource:e.attr_type})))}),M=e=>{var o,t;return{mixPromotionInfo:(null==e||null===(o=e.promotionInfo)||void 0===o||null===(t=o.filter((e=>{if(e.typeId){if(32==+e.typeId)return!1;if(31==+e.typeId)return 3==+e.promotion_logo_type;if([3,10,11,29].includes(+e.typeId))return!0;if(e.lable)return!0}return!1})))||void 0===t?void 0:t.map((e=>(Object.entries(r).some((([o,t])=>{if(t.includes(+e.typeId))return e.icon=o,!0})),e.typeId=+e.typeId,e.promotion_logo_type&&(e.promotion_logo_type=+e.promotion_logo_type),e))))||[],promotionReady:!0}},x=["ad_data","rec_mark","extra_mark"],B=e=>{const o=e.ext,t=e.dynamic_ext;let i="";o&&(i=Object.keys(o).filter((e=>!x.includes(e))).reduce(((e,t)=>(e.push(`${t}_${o[t]}`),e)),[]).join("|"));let a="";return t&&(a=Object.keys(t).map((e=>`${e}_${t[e]}`)).join("|")),{ext_other_ext_mark:i,dynamic_ext_other_ext_mark:a}},N=(e,o)=>{const t=null==o?void 0:o.language;let i=e.count||1;return i&&i>999&&(i=Math.floor(i/1e3*10)/10+"k"),{quantity:i,icon:"sui_icon_save_completed_16px",tip:`${i} ${null==t?void 0:t.SHEIN_KEY_PC_15512}`}},A=(e,o)=>{const t=null==o?void 0:o.language,{stock:i,is_on_sale:a}=e||{};return 0===a||0===i?{show:!0,message:(null==t?void 0:t.SHEIN_KEY_PC_14617)||"Sold Out"}:{show:!1}}},377387:(e,o,t)=>{t.d(o,{W:()=>i.W});var i=t(415092)},415092:(e,o,t)=>{t.d(o,{W:()=>s});var i=t(418240);const a=(e,o,t)=>{"string"==typeof o&&(o=o.split("."));let i=e;for(let e=0;e<o.length;e++){let a=o[e];if(e===o.length-1){void 0!==t&&(i[a]=t),i=i[a];break}i[a]||(i[a]={}),i=i[a]}return i},r=(e,o)=>{var t,a;const r=(null===(t=e.productMaterial)||void 0===t||null===(a=t.fullPriceUI)||void 0===a?void 0:a.style)||[],n=(l=r)&&Array.isArray(l)&&l.map((e=>i._Z.get(e))).find((e=>e))||"";var l;if(n)return n;const s=(null==o?void 0:o.suggestedSaleType)||e.suggestedSaleType||"";return s&&(c=s,Object.values(i.A7).includes(c))?s:"";var c};var n=t(247375);const l=[["ext","ext"],["dynamic_ext","dynamic_ext"],["mall_code","mall_code"],["goods_id","goods_id"],["goods_sn","goods_sn"],["goods_img","goods_img"],["goods_thumb","goods_img_thumb"],["goods_name","goods_name"],["goods_url_name","goods_url_name"],["productRelationID","productRelationID"],["cat_id","cat_id"],["cate_name","cat_name"],["parent_id","parent_id"],["detail_image","detail_image"],["is_on_sale","is_on_sale"],["is_saved","is_saved"],["stock","stock"],["store_code","store_code"],["isNewCoupon","isNewCoupon"],["promotionInfo","promotionInfo"],["count","count"],["isHasBigSize","is_show_plus_size"],["mallPromotionInfo","mallPromotionInfo"],["mallInfoList","mallInfoList"],["storeName","storeName"],["local_goods_id","local_goods_id"],["isAppointMall","isAppointMall"],["sceneFlag","sceneFlag"],["productMaterial.extendAbtConfigInfo","productMaterial.extendAbtConfigInfo"],["productMaterial.priceCountdownInfo","productMaterial.priceCountdownInfo"],["productMaterial.showAddButtonLabel","showAddButtonLabel"],["productMaterial.showAddButtonLabelStyle","showAddButtonLabelStyle"],["productMaterial.fullPriceUI","productMaterial.fullPriceUI"],["productMaterial.pictureBelt","productMaterial.pictureBelt"],["productMaterial.productTitleSubscript.labelLang","pcStandardView.goodsNameLabel.labelLang"],["productMaterial.productTitleSubscript.fontColor","pcStandardView.goodsNameLabel.fontColor"],["productMaterial.productTitleSubscript.backgroundColor","pcStandardView.goodsNameLabel.backgroundColor"],["productMaterial.productTitleSubscript.appTraceInfo","pcStandardView.goodsNameLabel.appTraceInfo"],["productMaterial.productTitleSubscript.labelLang","pcBroadwiseView.goodsNameLabel.labelLang"],["productMaterial.productTitleSubscript.fontColor","pcBroadwiseView.goodsNameLabel.fontColor"],["productMaterial.productTitleSubscript.backgroundColor","pcBroadwiseView.goodsNameLabel.backgroundColor"],["productMaterial.productTitleSubscript.appTraceInfo","pcBroadwiseView.goodsNameLabel.appTraceInfo"],["productMaterial.titleLabelList","pcStandardView.titleLabelList"],["productMaterial.titleLabelList","pcBroadwiseView.titleLabelList"],["discountPrice","discountPrice"],["retailDiscountPrice","retailDiscountPrice"],["unit_discount","unit_discount"],["salePrice","salePrice"],["retailPrice","retailPrice"],["suggestedSalePriceInfo","suggestedSalePriceInfo"],["reducePrice","reducePrice"],["productMaterial.hisLowPriceLabel",n.QS],["srpPriceInfo","srpPriceInfo"],["srpDiscountPrice","srpDiscountPrice"],["srpDiscount","srpDiscount"],["srpPrice","srpPrice"],["productMaterial.salesLabel.backgroundColor","pcStandardView.salesLabels.backgroundColor"],["productMaterial.salesLabel.fontColor","pcStandardView.salesLabels.fontColor"],["productMaterial.salesLabel.labelLang","pcStandardView.salesLabels.labelLang"],["productMaterial.salesLabel.appTraceInfo","pcStandardView.salesLabels.appTraceInfo"],["productMaterial.salesLabel.icon","pcStandardView.salesLabels.icon"],["productMaterial.salesLabel.backgroundColor","pcBroadwiseView.salesLabels.backgroundColor"],["productMaterial.salesLabel.fontColor","pcBroadwiseView.salesLabels.fontColor"],["productMaterial.salesLabel.labelLang","pcBroadwiseView.salesLabels.labelLang"],["productMaterial.salesLabel.appTraceInfo","pcBroadwiseView.salesLabels.appTraceInfo"],["productMaterial.salesLabel.icon","pcBroadwiseView.salesLabels.icon"],["productMaterial.buyBox.lowestPrice","buyBoxPrice.price"],["productMaterial.buyBox.sameKindNum","buyBoxCount.count"],["isHighestSales","isHighestSales"],["skuAttrList","sku_attr_list"],["inventory","inventory"],["wishlistId","wishlistId"],["sale_status","sale_status"],["isSize","isSize"],["count","count"],["sku_code","sku_code"],["originalAttrValueId","attrValueId"],["productMaterial.numberOfVisitorsLabel","pretreatInfo.numberOfVisitorsLabel"],["productMaterial.popularLabelList","pretreatInfo.popularLabelList"],["cccFeedback","cccFeedback"],["skcImageUrl","skcImageUrl"],["skuCombineName","skuCombineName"],["sku_code","sku_code"],["related_sku_code","related_sku_code"],["multiLevelSaleAttribute","multiLevelSaleAttribute"],["promotionGroup","promotionGroup"],["warnStatus","warnStatus"],["soldOutStatus","soldOutStatus"],["skuSelectedMallCode","skuSelectedMallCode"],["premiumFlagNew","premiumFlagNew"]],s=(e={},o={})=>{var t,i,c,u,d,p,_,m,g,f,v,b,I,y,L,h,P,S,T,w,k,C,V,D,M,x,B,N,A,E,$,R;if(!e)return{};const F={bffGoodsInfo:!0,suggestedSaleType:r(e,o)||"",pcStandardView:{},pcBroadwiseView:{},pretreatInfo:{pcStandardView:{},pcBroadwiseView:{}},goods_img_thumb:e.goods_img_thumb};l.forEach((([o,t])=>{const i=a(e,o);null!=i&&("[object Function]"===Object.prototype.toString.call(t)?t(e,F):((e,o,t)=>{a(e,o,t)})(F,t,i))})),F.suggestedSalePrice=e.suggestedSalePrice||(null===(t=e.suggestedSalePriceInfo)||void 0===t?void 0:t.suggestedSalePrice),F.isInversion=e.isInversion||(null===(i=e.suggestedSalePriceInfo)||void 0===i?void 0:i.isInversion)||"1";const K=(0,n.Ki)(e);var O;((null==F?void 0:F.ext)&&(F.ext.other_ext_mark=K.ext_other_ext_mark),(null==F?void 0:F.dynamic_ext)&&(F.dynamic_ext.other_d_ext_mark=K.dynamic_ext_other_ext_mark),F.stock?F.stock=Number(F.stock):null!=o&&o.inStock?F.stock=999:F.stock=0,F.is_on_sale?F.is_on_sale=Number(F.is_on_sale):null!=o&&o.inStock?F.is_on_sale=1:F.is_on_sale=0,F.cat_id&&(F.cat_id=Number(F.cat_id)),F.is_saved&&(F.is_saved=Number(F.is_saved)),null!=e&&null!==(c=e.spu_images)&&void 0!==c&&c.spu_images)&&(F.spu_image=null==e||null===(O=e.spu_images)||void 0===O?void 0:O.spu_images.map((e=>({medium_image:e}))).filter((e=>e.medium_image)));if(null!=e&&null!==(u=e.similar_products)&&void 0!==u&&u.length&&(F.similar_products=e.similar_products.map((e=>(e.stock=999,e.is_on_sale=1,s(e,o))))),(null===(d=e.mallInfoList)||void 0===d?void 0:d.length)>0&&e.mall_code){const o=(0,n.gA)(e);F.pretreatInfo.mallTagsInfo=null==o?void 0:o.mallTagsInfo,F.pretreatInfo.localMallReady=null==o?void 0:o.localMallReady}const W=(0,n.Cy)(e,o);F.pcStandardView.locateLabels=W.pcStandardView,F.pcBroadwiseView.locateLabels=W.pcBroadwiseView;const q=(0,n.Pj)(e,o);F.unitDiscountString=null!==(p=q.unitDiscountString)&&void 0!==p?p:"",F.estimatedPriceInfo=null!==(_=q.estimatedPriceInfo)&&void 0!==_?_:{},F.sheinClubPromotionInfo=null!==(m=q.sheinClubPromotionInfo)&&void 0!==m?m:{},F.exclusivePromotionInfo=null!==(g=q.exclusivePromotionInfo)&&void 0!==g?g:{},F.exclusivePromotionPrice=null!==(f=q.exclusivePromotionPrice)&&void 0!==f?f:"",F.flashZonePromotion=null!==(v=q.flashZonePromotion)&&void 0!==v?v:{},F.srpDiscountPercentString=null!==(b=q.srpDiscountPercentString)&&void 0!==b?b:"",F.pretreatInfo.newFlashPromotion=null!==(I=q.newFlashPromotion)&&void 0!==I?I:{},F.pretreatInfo.flashsale=null!==(y=null==q?void 0:q.flashsale)&&void 0!==y?y:0,F.pretreatInfo.discountInfo=(0,n.UM)(e,F,o)||{};const H=(0,n.K9)(e,F,o);F.pretreatInfo.pcStandardView.beltLabel=null!==(L=H.pcStandardView)&&void 0!==L?L:null,F.pretreatInfo.pcBroadwiseView.beltLabel=null!==(h=H.pcBroadwiseView)&&void 0!==h?h:null;const j=(0,n.xT)(e);if(F.pretreatInfo.pcStandardView.rankingList=j.pcStandardView,F.pretreatInfo.pcBroadwiseView.rankingList=j.pcBroadwiseView,(null===(P=e.productMaterial)||void 0===P||null===(S=P.productAttributeLabelList)||void 0===S?void 0:S.length)>0){const o=(0,n.nY)(e);F.pretreatInfo.pcStandardView.sellingPointUniversalLabels=o.pcStandardView,F.pretreatInfo.pcBroadwiseView.sellingPointUniversalLabels=o.pcBroadwiseView}let U,z;if((null===(T=e.productMaterial)||void 0===T||null===(w=T.v2ProductAttributeLabelList)||void 0===w?void 0:w.length)>0&&(F.pretreatInfo.horseRaceLabel=(0,n.vE)(e)),(null==e||null===(k=e.promotionInfo)||void 0===k?void 0:k.length)>0&&(({mixPromotionInfo:U,promotionReady:z}=(0,n.Ox)(e)),F.pretreatInfo.mixPromotionInfo=U,F.pretreatInfo.promotionReady=z),(null===(C=e.productMaterial)||void 0===C||null===(V=C.productServiceLabelList)||void 0===V?void 0:V.length)>0){const o=(0,n.Nt)(e,{mixPromotionInfo:U});F.pretreatInfo.pcStandardView.serviceLabels=o,F.pretreatInfo.pcBroadwiseView.serviceLabels=o}var Y,G,Z,Q;e.storeInfo&&(F.storeInfo={...(null==e?void 0:e.storeInfo)||{},title:null==e||null===(Y=e.storeInfo)||void 0===Y?void 0:Y.storeName});if(null!==(D=e.productMaterial)&&void 0!==D&&null!==(M=D.trendLabel)&&void 0!==M&&M.trendType){const t=(0,n.EE)(e,o);var X;if(null!=t&&t.storeInfo)F.storeInfo=Object.assign({},null!==(X=null==F?void 0:F.storeInfo)&&void 0!==X?X:{},t.storeInfo);null!=t&&t.deliveryInfo&&(F.deliveryInfo=t.deliveryInfo)}if(null!=e&&e.storeInfo){const o=(0,n.mP)(e,F);null!=F&&F.storeInfo&&o&&(F.storeInfo=Object.assign({},null==F?void 0:F.storeInfo,o))}if(null!==(x=e.productMaterial)&&void 0!==x&&null!==(B=x.maskLayer)&&void 0!==B&&B.image){const o=(0,n.Mu)(e);F.pcStandardView.maskLayer=o,F.pcBroadwiseView.maskLayer=o}"userVoucher"===(null===(N=e.productMaterial)||void 0===N||null===(A=N.brandDealsAttributeLabel)||void 0===A?void 0:A.labelType)&&(F.pretreatInfo.brandDealsAttributeLabel=null===(G=e.productMaterial)||void 0===G?void 0:G.brandDealsAttributeLabel);(F.suggestedSaleType&&(F.pretreatInfo.suggestedSalePriceConfigInfo=(0,n.eD)(e,F,o)),(null===(E=e.attrs)||void 0===E?void 0:E.length)>0)&&(F.pretreatInfo.searchFilters=null!==(Z=null===(Q=(0,n.kX)(e))||void 0===Q?void 0:Q.searchFilters)&&void 0!==Z?Z:[],F.pretreatInfo.searchFiltersReady=!0);if(e.sku_code&&(null===($=e.skuInventoryList)||void 0===$?void 0:$.length)>0){const t=(0,n.qT)(e,o);F.sizeStock=t.sizeStock,F.pretreatInfo.stockLeft=t.stockLeft,F.pretreatInfo.stockLeftReady=t.true}return e.skuAttrStr&&(F.pretreatInfo.saleAttr=(0,n.Bo)(e)),Number((null===(R=e.reducePrice)||void 0===R?void 0:R.amount)||0)>0&&(F.pretreatInfo.reducePrice=(0,n.AT)(e,o)),F.pretreatInfo.likeQuantity=(0,n.eY)(e,o),F.pretreatInfo.saleout=(0,n.fr)(F,o),F}}}]);
//# sourceMappingURL=77387-cb97ae96efa4b3b7.js.map