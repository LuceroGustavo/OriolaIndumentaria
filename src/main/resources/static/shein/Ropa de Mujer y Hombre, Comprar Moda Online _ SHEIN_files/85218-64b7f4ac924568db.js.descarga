"use strict";(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[85218],{95451:(t,e,i)=>{i.d(e,{A:()=>s});var l=i(298663);const s={flowSlot:t=>{var e;return(null==t||null===(e=t.Results)||void 0===e?void 0:e.flowSlot)||{}},locals:t=>(null==t?void 0:t.locals)||{},goods:t=>{var e;return(null==t||null===(e=t.Results)||void 0===e?void 0:e.goods)||[]},sheinClubInfo:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.sheinClubInfo)||{}},cccConfig:t=>{var e;const i=(null==t||null===(e=t.results)||void 0===e?void 0:e.cccConfig)||{};return{...i,...(null==i?void 0:i.pcStandardView)||{}}},cccxConfig:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.cccxConfig)||{}},cccxFilterConfig:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.cccxFilterConfig)||{}},mallInfo:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.mallInfo)||[]},catInfo:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.cat_info)||{}},fhContext:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.fhContext)||{}},googleContext:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.googleContext)||{}},tracking:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.tracking)||{}},request_ext:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.request_ext)||{}},listAbtResult:t=>(null==t?void 0:t.listAbtResult)||{},navCrumbs:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.navCrumbs)||[]},currentCat:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.currentCat)||{}},parentCats:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.parentCats)||{}},cccListOperation:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.cccListOperation)||{}},sum:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.sum)||0},cloudTags:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.cloudTags)||[]},hasFilter:t=>(0,l.Jr)(t.catInfo),filterData:t=>{var e,i,l,s,a;return{dailyDates:(null==t||null===(e=t.results)||void 0===e?void 0:e.dailyDates)||{},filterCates:(null==t||null===(i=t.results)||void 0===i?void 0:i.filterCates)||{},filterTsps:(null==t||null===(l=t.results)||void 0===l?void 0:l.filterTsps)||[],filterAttrs:(null==t||null===(s=t.results)||void 0===s?void 0:s.filterAttrs)||[],filterPrices:(null==t||null===(a=t.results)||void 0===a?void 0:a.filterPrices)||{}}},dailyDates:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.dailyDates)||{}},filterCates:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.filterCates)||{}},selectedCate:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.selectedCate)||[]},filterTsps:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.filterTsps)||[]},selectedTsps:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.selectedTsps)||[]},filterAttrs:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.filterAttrs)||[]},filterHotAttrs:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.hotFilterAttrs)||{}},filterPrices:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.filterPrices)||{}},selectedAttrs:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.selectedAttrs)||[]},searchKeywords:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.searchKeywords)||{}},relateSearchWords:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.relateSearchWords)||[]},picksMenuList:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.picksMenuList)||[]},topBanner:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.topBanner)||{}},goodsCrowId:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.goodsCrowId)||""},traceId:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.trace_id)||""},searchTraceId:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.searchTraceId)||""},sumForPage:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.sumForPage)||0},searchCCCCard:t=>{var e;return(null===(e=t.results.searchBannerCard)||void 0===e?void 0:e.searchCCCCard)||null},searchStoreCard:t=>{var e;return(null===(e=t.results.searchBannerCard)||void 0===e?void 0:e.storeCardList)||[]},filterAbtParam:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.filterAbtParam)||{}},promotionInfoFromServer:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.promotionInfoFromServer)||{}},atomicParams:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.atomicParams)||{}},isCccxFilterConfig:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.shouldUseCccxFilterChain)||!1},isImgDataTypeDirectionColumnAbtOn(t,e){var i,l,s;return"A"===(null===(i=e.listAbtResult)||void 0===i||null===(l=i.NewListFilterCccx)||void 0===l||null===(s=l.p)||void 0===s?void 0:s.NewListFilterCccx)},cardConfig:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.cardConfig)||{}},recommendPanelFields:t=>{var e;return(null==t||null===(e=t.results)||void 0===e?void 0:e.recommendPanelFields)||{}},abtMap:t=>t.results.abtMap||{}}},290452:(t,e,i)=>{i.d(e,{A:()=>B});var l=i(597874),s=i(387588),a=i.n(s),r=i(275783),n=i(377387),d=i(416970);function o(t,e,i){return i(u(t,e))}function u(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}const c={1:"",2:"",4:"",5:"",6:"",7:"",8:"",9:"",10:"",12:"",39:"",40:"",26:"",16:"",37:"",25:"",41:"",42:""};var h=new WeakSet;function v(t){return t.data.bffCccFeedbackInfo||{}}function _(t){return t.data.bffProductsInfo||{}}function p(t){return t.data.bffFilterInfo||{}}function f(t){const e=u(h,t,I).call(t);return{...e,isStorePage:"store"===e.type,isSearchPage:"search"===e.type,isRealPage:"entity"===e.type,isSelectPage:"selection"===e.type,isPickPage:"pick"===e.type}}function g(t){return t.data.bffSearchBannerCardInfo||{}}function y(){if(!u(h,this,m).call(this))return;const t=o(h,this,_).buriedPoint;t?this.data.searchResultInterfaceCode=t:"0"!==o(h,this,_).code?this.data.searchResultInterfaceCode="4_1001":this.data.searchResultInterfaceCode=1}function m(){var t;return null===(t=Object.keys(o(h,this,_)))||void 0===t?void 0:t.length}function C(){var t;return null===(t=Object.keys(o(h,this,p)))||void 0===t?void 0:t.length}function I(){var t,e,i,l,s,a;const r=null===(t=o(h,this,_))||void 0===t?void 0:t.cateId,n=null===(e=o(h,this,_))||void 0===e||null===(i=e.cate_ids)||void 0===i?void 0:i[0],d="search"===this.pageType,u=null===(l=o(h,this,_))||void 0===l?void 0:l.keywordRelateCateIds;if(d){var c,v;const t=(null===(c=o(h,this,_))||void 0===c?void 0:c.origin_words)||(null===(v=this.query)||void 0===v?void 0:v.keywords)||"";return{type:"search",pageName:"page_search",cat_id:r||n||"",searchWord:t,keywords:t,keywordRelateCateIds:u}}if("store"===this.pageType){var f,g,y,m,C,I,S,w;const t=(null===(f=o(h,this,_))||void 0===f?void 0:f.origin_words)||(null===(g=this.query)||void 0===g?void 0:g.keywords)||"";return{type:"store",sub_type:null===(y=this.data.cat_info)||void 0===y?void 0:y.sub_type,pageName:null===(m=this.data.cat_info)||void 0===m?void 0:m.pageName,select_id:(null===(C=this.data.cat_info)||void 0===C?void 0:C.select_id)||(null===(I=this.data.cat_info)||void 0===I?void 0:I.routeId),store_code:null===(S=this.data.cat_info)||void 0===S?void 0:S.store_code,searchWord:t,keywords:t,result_type:null===(w=this.data.cat_info)||void 0===w?void 0:w.result_type}}var b,T;if("selling"===this.pageType)return{type:"selling",pageName:"page_selling_point",tag_val_id:(null===(b=this.data.cat_info)||void 0===b?void 0:b.tag_val_id)||(null===(T=this.data.preSaveCatInfo)||void 0===T?void 0:T.tag_val_id),pageStyleKey:"page_selling_point_list"};if("daily_new"===this.pageType)return{type:"daily_new",pageName:"page_daily_new"};if("entity"===this.pageType)return{type:"entity",pageName:"page_real_class",entity_id:r,cat_id:r||n||""};const k="selection"===this.pageType,q=null===(s=o(h,this,p))||void 0===s?void 0:s.cateId,A=null===(a=o(h,this,_))||void 0===a?void 0:a.category_id;var P,L;if(k)return{type:"selection",pageName:"page_select_class",select_id:A,selection_entity_id:q||"",sub_type:this.query.sub_type||(null===(P=this.data.preSaveCatInfo)||void 0===P?void 0:P.sub_type),brand_id:this.query.brand_id||(null===(L=this.data.preSaveCatInfo)||void 0===L?void 0:L.brand_id)};var x,F,N;return"picks"===this.pageType?{type:"picks",pageName:"page_goods_group",pageStyleKey:"shein_picks",picksType:this.query.picksType,picks_id:this.query.picks_id,sub_type:this.query.sub_type,cat_id:this.query.cat_id,entity_id:this.query.entity_id,select_id:this.query.select_id,navId:this.query.navId,cacheKey:this.query.cacheKey,picksTitle:(null===(x=this.data.cat_info)||void 0===x?void 0:x.picksTitle)||(null===(F=this.data.preSaveCatInfo)||void 0===F?void 0:F.picksTitle),picksLink:this.data.picksLink||(null===(N=this.data.cat_info)||void 0===N?void 0:N.picksLink),_type:"sheinPicks"}:{}}function S(t){var e,i,l,s,a;if(this.query&&"pageChange"===this.query.requestType&&this.query.page>=1)return!1;const{isAdultValid:r}=this.data.cat_info||{},n=t?null===(e=o(h,this,_))||void 0===e?void 0:e.show_adult_tip:(null===(i=this.data)||void 0===i||null===(l=i.bffFilterInfo)||void 0===l?void 0:l.show_adult_tip)||(null===(s=this.data)||void 0===s||null===(a=s.bffFilterInfo)||void 0===a?void 0:a.showAdultTip);return r&&n&&"0"!==n}function w(){var t,e,i,l,s,a,r,n,d,c,v,p,g,y,I,w,b,T,k,q,A,P,L,x,F,N,R,B,O,j;if(!u(h,this,m).call(this)&&!u(h,this,C).call(this))return;const $=null===(t=this.data)||void 0===t||null===(e=t.bffFilterInfo)||void 0===e||null===(i=e.tagChild)||void 0===i||null===(l=i.defaultChild)||void 0===l?void 0:l.child_id,K=o(h,this,f),M={switchBff:!0,...K,useBffFilters:this.query.useBffFilters,useBffProducts:this.query.useBffProducts,suggestedSaleTypeBff:(null===(s=o(h,this,_))||void 0===s?void 0:s.suggestedSaleType)||"",hasAdultProduct:u(h,this,S).call(this,K.isSearchPage),requestType:this.requestType,page:+this.query.page,limit:this.query.limit,search_type:this.query.search_type,tsp_ids:this.query.tsp_ids,tag_ids:this.query.tag_ids||($?this.data.cat_info.tag_ids:""),min_price:this.query.min_price,max_price:this.query.max_price,sort:this.query.sort,attr_values:this.query.attr_values,attr_ids:this.query.attr_ids,brand_ids:this.query.brand_ids,attr_node_ids:this.query.attr_node_ids,child_cat_id:this.query.child_cat_id,daily:this.query.daily,ici:this.query.ici,sil_type:this.query.sil_type,ShowTip:this.query.ShowTip,child_cat_id_void:!!this.query.search_id,search_redir:this.query.search_redir,filterWords:this.query.filterWords,filterAttrIds:this.query.filterAttrIds,store_code:this.query.store_code,intent_channel_id:this.query.intent_channel_id,url_from:this.query.url_from,src_identifier:this.query.src_identifier,src_module:this.query.src_module,src_tab_page_id:this.query.src_tab_page_id,userpath:this.query.userpath,is_from_list_feeds:this.query.is_from_list_feeds,result_Ioc:this.query.result_Ioc,list_cat_name:this.query.list_cat_name,lockMall:this.query.lockMall,mallCode:this.query.mallCode,styleType:this.query.styleType,pageListType:(null===(a=o(h,this,_))||void 0===a||null===(r=a.context)||void 0===r?void 0:r.page_list_type)||4,sortScene:null===(n=o(h,this,_))||void 0===n?void 0:n.sortPoskey,show_daily:this.query.show_daily,kid_id:this.query.kid_id||($?this.data.cat_info.kid_id:""),showAllCategory:"1",fromPageType:this.query.fromPageType,entranceType:this.query.entranceType,pageFrom:this.query.pageFrom,selectAttributeGroup:this.query.selectAttributeGroup||"",price_input:this.query.price_input||""};this.data.cat_info=Object.keys(M).reduce(((t,e)=>(void 0===M[e]||null===M[e]||(t[e]=M[e]),t)),{});const D=this.data.preSaveCatInfo?{cat_id:null===(d=this.data.preSaveCatInfo)||void 0===d?void 0:d.cat_id,child_cat_id_void:null===(c=this.data.preSaveCatInfo)||void 0===c?void 0:c.child_cat_id_void,entity_id:null===(v=this.data.preSaveCatInfo)||void 0===v?void 0:v.entity_id,isAdultValid:null===(p=this.data.preSaveCatInfo)||void 0===p?void 0:p.isAdultValid,isPickPage:null===(g=this.data.preSaveCatInfo)||void 0===g?void 0:g.isPickPage,isSelectPage:null===(y=this.data.preSaveCatInfo)||void 0===y?void 0:y.isSelectPage,isRealPage:null===(I=this.data.preSaveCatInfo)||void 0===I?void 0:I.isRealPage,isStorePage:null===(w=this.data.preSaveCatInfo)||void 0===w?void 0:w.isStorePage,isSearchPage:null===(b=this.data.preSaveCatInfo)||void 0===b?void 0:b.isSearchPage,kid_id:null===(T=this.data.preSaveCatInfo)||void 0===T?void 0:T.kid_id,limit:null===(k=this.data.preSaveCatInfo)||void 0===k?void 0:k.limit,page:null===(q=this.data.preSaveCatInfo)||void 0===q?void 0:q.page,pageListType:null===(A=this.data.preSaveCatInfo)||void 0===A?void 0:A.pageListType,pageName:null===(P=this.data.preSaveCatInfo)||void 0===P?void 0:P.pageName,requestType:null===(L=this.data.preSaveCatInfo)||void 0===L?void 0:L.requestType,selectAttributeGroup:null===(x=this.data.preSaveCatInfo)||void 0===x?void 0:x.selectAttributeGroup,showAllCategory:null===(F=this.data.preSaveCatInfo)||void 0===F?void 0:F.showAllCategory,switchBff:null===(N=this.data.preSaveCatInfo)||void 0===N?void 0:N.switchBff,tag_ids:null===(R=this.data.preSaveCatInfo)||void 0===R?void 0:R.tag_ids,type:null===(B=this.data.preSaveCatInfo)||void 0===B?void 0:B.type,useBffFilters:null===(O=this.data.preSaveCatInfo)||void 0===O?void 0:O.useBffFilters,useBffProducts:null===(j=this.data.preSaveCatInfo)||void 0===j?void 0:j.useBffProducts}:{};this.data.cat_info=Object.assign(D,this.data.cat_info)}function b({action:t,page_type:e,page_id:i,url:l}){var s,n,d,o,u,h,v,_,p,f,g;const{PICKS_LINKS:y,langPath:m}=gbCommonInfo||{};let C=c[e];if(40==e&&(l="/user/prime"),41==e){var I;let t=y||{},e=(null==i||null===(I=i.split("/"))||void 0===I?void 0:I[0])||l;l=t[e]?`/${t[e]}.html`:""}if("redirect"!==t||!l||!Object.keys(c).includes(e))return{};l=/^\/[^\/]/.test(l)?`${m}${l}`:`//${l}`;const S={};if(2==e||5==e||41==e){var w;const t=null==i||null===(w=i.split("/"))||void 0===w?void 0:w[1];t&&Object.assign(S,{mallCode:t})}const b={search_redir:1,search_words:null===(s=this.data)||void 0===s||null===(n=s.cat_info)||void 0===n?void 0:n.searchWord,ici:null===(d=this.data)||void 0===d||null===(o=d.cat_info)||void 0===o||null===(u=o.ici)||void 0===u?void 0:u.replace("`d0`","`d1`"),src_identifier:(null===(h=this.data)||void 0===h||null===(v=h.cat_info)||void 0===v?void 0:v.src_identifier)||"",src_tab_page_id:(null===(_=this.data)||void 0===_||null===(p=_.cat_info)||void 0===p?void 0:p.src_tab_page_id)||"",src_module:(null===(f=this.data)||void 0===f||null===(g=f.cat_info)||void 0===g?void 0:g.src_module)||"",...S};if(12==e&&(l=`${m}/store/home`,b.store_code=i),4==e){var T,k;if(/^(?![0-9]+$)(?![a-zA-Z]+$)([0-9A-Za-z]{5}|[0-9A-Za-z]{7})$/.test(null===(T=this.data)||void 0===T||null===(k=T.cat_info)||void 0===k?void 0:k.searchWord))try{const t=new(a())(i),{pathname:e,search:s}=t;l=`${m}${e}${s}`,C="MarketingCode"}catch(t){}}return{redirectType:C,url:`${l}${l.includes("?")?"&":"?"}${(0,r.r)({queryObj:b})}`}}function T(){var t,e;if(!u(h,this,m).call(this)||null===(t=this.data.cat_info)||void 0===t||!t.isSearchPage)return;const{searchWord:i}=(null===(e=this.data)||void 0===e?void 0:e.cat_info)||{},{is_suggest_res:l,suggest_words:s,origin_num:a,double_lang_correct:r}=o(h,this,_),n=null==i?void 0:i.replace("<","&lt;").replace(">","&gt;"),{url:d}=u(h,this,b).call(this,o(h,this,_));this.data.searchKeywords={keywords:n,redirectUrl:d,origin_words:n,origin_total:a,is_suggest_res:Number(l)||0,suggest_words:s,double_lang_correct:r,suggest_total:s?this.data.sum:0}}function k(){var t,e,i,l,s,a,r;if(!u(h,this,m).call(this))return;const d="search"===(null===(t=this.data.cat_info)||void 0===t?void 0:t.type),c=d&&"store"===(null===(e=this.data.cat_info)||void 0===e?void 0:e.search_type),p=d&&"brand"===(null===(i=this.data.cat_info)||void 0===i?void 0:i.search_type),f=null===(l=o(h,this,v))||void 0===l||null===(s=l.extendConfigDetail)||void 0===s?void 0:s.find((t=>{var e,i;const l=(null===(e=this.data.cat_info)||void 0===e?void 0:e.pageStyleKey)||(null===(i=this.data.cat_info)||void 0===i?void 0:i.pageName);return(null==t?void 0:t.pageStyleKey)===l&&"TWO_IN_A_ROW"===t.sceneKey})),g=t=>{var e,i;if(!this.lang)throw new Error("lang is required");return(0,n.W)(t,{language:null!==(e=this.data.language)&&void 0!==e?e:{},lang:this.lang,isPaid:!(null===(i=this.data.sheinClubInfo)||void 0===i||!i.isPaid)})};this.data.goods=(null===(a=o(h,this,_).products)||void 0===a||null===(r=a.map)||void 0===r?void 0:r.call(a,(t=>{f&&(t.cccFeedback=f);const e=g(t);return(p||c)&&e.showAddButtonLabelStyle&&(e.showAddButtonLabelStyle=""),e})))||[]}function q(){var t,e,i,l,s,a,r,n,d,c;if(!u(h,this,m).call(this)||!this.data.cardConfig)return;const v=+(null===(t=o(h,this,_))||void 0===t||null===(e=t.listStyle)||void 0===e||null===(i=e.twoColumnStyle)||void 0===i?void 0:i.goodsNameLineLimit);[1,2].includes(v)&&(this.data.cardConfig.showTitle=!0,this.data.cardConfig.showGoodsNameTwoLine=2===v);const p=null!==(l=null===(s=o(h,this,_))||void 0===s||null===(a=s.products)||void 0===a?void 0:a[0])&&void 0!==l?l:{};null!=p&&null!==(r=p.productMaterial)&&void 0!==r&&r.showAddButtonLabel&&(this.data.cardConfig.showAddBagBtn="1"===p.productMaterial.showAddButtonLabel);const{page:f,type:g}=null!==(n=null===(d=this.data)||void 0===d?void 0:d.cat_info)&&void 0!==n?n:{};"search"!==g||1!==f||null!=p&&p.productMaterial||null===(c=this.data)||void 0===c||!c.cardConfig||(this.data.cardConfig.showAddBagBtn=!0),this.data.cardConfig.urlQuery||(this.data.cardConfig.urlQuery={}),this.data.cardConfig.urlQuery.pageListType=this.data.cat_info.pageListType}function A(){u(h,this,C).call(this)&&(0,d.A)(this.data,o(h,this,p))}function P(){"firstLoad"===this.requestType&&u(h,this,m).call(this)&&(this.data.currentCat={cat_id:o(h,this,_).cateId||"",cat_name:o(h,this,_).category_name||"",parent_id:o(h,this,_).parentId||"",brande_detail:o(h,this,_).brand_detail||"",select_name_multi:o(h,this,_).category_name||"",valName:o(h,this,_).category_name||""})}function L(){var t,e;u(h,this,m).call(this)&&(this.data.request_ext=null!==(t=null===(e=o(h,this,_))||void 0===e?void 0:e.request_ext)&&void 0!==t?t:{},this.data.cateIds=o(h,this,_).cateIds||[],this.data.sum=o(h,this,_).num,this.data.sumForPage=o(h,this,_).numForPage,this.data.frontFilterGoods=o(h,this,_).frontFilterGoods,this.data.data_c=o(h,this,_).data_c)}function x(){const t=new Map([["cccStyleInfo","searchCCCCard"],["storeCardInfo","searchStoreCard"],["storeCardList","storeCardList"]]),e=o(h,this,g)||{};if(!Object.keys(e).length)return;const i={};this.data.searchBannerCard=i,Object.keys(e).forEach((l=>{const s=e[l];s&&"object"==typeof s&&(s.isBff=!0,s.lang=this.lang,s.suggestedSaleType=e.suggestedSaleType||"",i[t.get(l)]=s)})),this.data.searchBannerCard=i}function F(){var t,e,i,l,s,a;if("undefined"==typeof window)return!1;this.data.cccConfig={feedBackStyle:null!==(t=null===(e=o(h,this,_))||void 0===e||null===(i=e.listStyle)||void 0===i?void 0:i.feedBackStyle)&&void 0!==t?t:{},rankListModuleSetting:null!==(l=null===(s=o(h,this,_))||void 0===s||null===(a=s.listStyle)||void 0===a?void 0:a.rankListModuleSetting)&&void 0!==l?l:{},productTypeSortConfig:[],tagCloudSlotConfig:[]}}function N(){u(h,this,m).call(this)&&(this.data.goodsCrowId={...o(h,this,_).profile||{},_from:"bff_xhr"})}function R(){this.data.abtMap=o(h,this,_).abtMap||{}}const B=class{constructor({data:t,pageType:e,requestType:i,query:s}){var a;(0,l.A)(this,h),this.data=t||{},this.pageType=e,this.requestType=i||"",this.query=s,this.lang=(null===(a=this.data)||void 0===a?void 0:a.lang)||"undefined"!=typeof window&&gbCommonInfo.lang}adaptData(){return u(h,this,w).call(this),u(h,this,k).call(this),u(h,this,L).call(this),u(h,this,F).call(this),u(h,this,q).call(this),u(h,this,A).call(this),u(h,this,y).call(this),u(h,this,T).call(this),u(h,this,P).call(this),u(h,this,x).call(this),u(h,this,N).call(this),u(h,this,R).call(this),this.getData()}getData(){if(!u(h,this,m).call(this)&&!u(h,this,C).call(this))return null;const t=["bffCccFeedbackInfo","bffFilterInfo","bffProductsInfo"];return Object.keys(this.data).reduce(((e,i)=>(t.includes(i)||(e[i]=this.data[i]),e)),{})}}},416970:(t,e,i)=>{function l(t=[]){t.forEach((t=>{var e;t.children=null!==(e=t.children)&&void 0!==e?e:[],t.children.length&&l(t.children)}))}function s({cat_info:t={}},{cat_path:e=[],categories:i=[],all_categories:s=[]}){const a=(()=>{if("1"===(null==t?void 0:t.showAllCategory)&&null!=s&&s.length)return l(s),{filterCates:s};let a=[];const r=e.length;if(r){const t={children:[]};e.reduce(((t,e,l)=>(e.children=l==r-1?i:[],t.children=[e],a.push(e),e)),t)}else a=i;return l(a),{filterCates:a}})();return function({cat_info:t,results:e}){if(t.search_id||!e.filterCates)return;let i=Array.isArray(e.filterCates)&&e.filterCates||[];i.length&&(i=function e(i){if(!i.length)return i;const l=i[0].cat_id,s=l&&t.child_cat_id==l;return 1!==i.length||s?i:e(i[0].children)}(i));let l=-1;e.selectedCate=[];let s=function i(s){const a=[];let r={isShowChild:0,children:a,lastSelectedIndex:-1};return s.forEach((function(s,n){var d;if(a[n]={cat_id:s.cat_id||"",parent_id:s.parent_id||"",cat_name:s.multi&&s.multi.cat_name||s.cat_name||"",cateCorrelation:s.cateCorrelation,isSelected:!1,isShowChild:0},s.cat_id&&t.child_cat_id==s.cat_id&&(a[n].isSelected=!0,r.lastSelectedIndex=n,l=n,s.children&&s.children.length&&(a[n].isShowChild=1),r.isShowChild=1,e.selectedCate.push(a[n])),null!==(d=s.children)&&void 0!==d&&d.length){let t=i(s.children);a[n].children=t.children,a[n].isShowChild=a[n].isShowChild||t.isShowChild,a[n].isShowChild&&(r.isShowChild=1),-1==r.lastSelectedIndex&&-1!==l&&(r.lastSelectedIndex=n,l=n)}})),r}(i);s.isShowChild=1,s.children.length>6&&s.lastSelectedIndex<6&&(s.showViewMore=!0),e.filterCates=s}({cat_info:t,results:a}),a}i.d(e,{A:()=>h});const a=(t=[],e="")=>{const i=`${e}`.split(","),l=[];return{filterTsps:t.map(((t,e)=>{let s=e<=1,a=0;const r=t=>t.nodeName;let n=-1;const d=t.children.map(((e,d)=>{const o=`${t.nodeId}_${e.nodeId}`,u=i.includes(o),c=r(e),h={isSelected:u,tagId:o,tagName:c,nodeType:e.nodeType,nodeId:e.nodeId,tagValue:c};return u&&(s=!0,a+=1,n=d,l.push(h)),h}));return{tagGroupId:t.nodeId,tagGroupName:r(t),nodeType:t.nodeType,nodeId:t.nodeId,open:s,selectedNum:a,lastSelectedIndex:n,tagList:d}})),selectedTsps:l}},r=t=>t.nodeName,n=(t,e)=>Array.isArray(e)?e.some((e=>t.nodeType.toString()===e.toString())):t.nodeType.toString()===e.toString(),d=t=>n(t,2)?t.nodeId.split("_")[0]:t.nodeId,o=t=>n(t,3)?t.attr_filter:t.nodeId,u=(t,{brand_ids:e="",attr_node_ids:i="",tsp_ids:l=""})=>{const s=i.toString().split("-")||[],a=e.toString().split(",")||[],u=[],c=(t,{selectChange:e}={})=>t.map(((t,i)=>{const n=parseInt(d(t)),u={attr_filter:o(t),attr_id:n,attr_value:r(t),attr_values:h(t,{selectChange:e}),attr_image:(null==t?void 0:t.nodeImg)||"",nodeType:t.nodeType,nodeId:t.nodeId,isSelected:!1};if(7==u.nodeType){l.indexOf(u.attr_filter)>-1&&(u.isSelected=!0,e&&e(u,i))}else{(9==u.nodeType&&a.includes(u.nodeId)||s.includes(u.nodeId))&&(u.isSelected=!0,e&&e(u,i))}return u})),h=(t,e)=>Array.isArray(t.children)&&!n(t,3)?c(t.children,e):[];return{filterAttrs:t.map((t=>{const e={attr_id:t.nodeId,attr_name:r(t),show_group:t.showGroup,nodeType:t.nodeType,nodeId:t.nodeId,attr_values:[],groups:[],selectedNum:0,lastSelectedIndex:-1};function i(t,i){e.selectedNum++,e.lastSelectedIndex=i,u.push(t)}return t.showGroup&&"1"===t.nodeType.toString()?(e.show_group_txt=!1,e.groups=((t,{selectChange:e}={})=>t.map(((t,i)=>{const l=parseInt(d(t)),n={attr_filter:o(t),attr_id:l,group_image:t.nodeImg,group_name:r(t),nodeType:t.nodeType,nodeId:t.nodeId,isSelected:!1};return(9==n.nodeType&&a.includes(n.nodeId)||s.includes(n.nodeId))&&(n.isSelected=!0,e&&e(n,i)),n})))(t.children||[],{selectChange:i})):e.attr_values=c(t.children||[],{selectChange:i}),e})),selectedAttrs:u}};function c(t){const e=(null==t?void 0:t.dailyDates)||[];if(null==e||!e.length)return;let i={};return e.forEach((t=>{i[t.date]=t.show_date})),i}function h(t,e){var i,l,r,n,d,o,h,v;t.cccConfig=Object.assign(t.cccConfig||{},function({tagSlotConfigs:t=[]}){return null==t||t.forEach((t=>{t.tagId=t.tag_id,t.tagName=t.tag_name})),{tagCloudSlotConfig:null!=t?t:[]}}(e),function({tags:t=[]}){const e=[];return null==t||t.forEach((t=>{let i=t.tag_type,l=!0;"quickship"===t.type?(i=12,l=e.findIndex((t=>12==t.tagType))<0):"mall"===t.type?(i=11,l=e.findIndex((t=>11==t.tagType))<0):100===t.is_sale_tag&&(i=13,l=e.findIndex((t=>13==t.tagType))<0);const s={...t,tagType:i,tagId:t.tag_id,tagName:t.tag_name};l&&e.push(s)})),{productTypeSortConfig:e}}(e));const{cat_info:_={}}=t,{filterList:p}=e,f=!(null==p||!p.length),{filterAttrs:g,selectedAttrs:y,filterTsps:m,selectedTsps:C}=f?function({filterList:t,tsp_ids:e,attr_ids:i,brand_ids:l,attr_node_ids:s}){const{tsps:r,attrs:n}=t.reduce(((t,e)=>("4"===e.nodeType.toString()&&e.children.every((t=>"7"===t.nodeType.toString()))?e.children.length&&t.tsps.push(e):e.children.length&&t.attrs.push(e),t)),{tsps:[],attrs:[]});return{...u(n,{attr_ids:i,brand_ids:l,attr_node_ids:s,tsp_ids:e}),...a(r,e)}}({filterList:null!==(i=null==e?void 0:e.filterList)&&void 0!==i?i:[],tsp_ids:null!==(l=null==_?void 0:_.tsp_ids)&&void 0!==l?l:"",attr_ids:null!==(r=null==_?void 0:_.attr_ids)&&void 0!==r?r:"",brand_ids:null!==(n=null==_?void 0:_.brand_ids)&&void 0!==n?n:"",attr_node_ids:null!==(d=null==_?void 0:_.attr_node_ids)&&void 0!==d?d:""}):function({attribute:t=[],selectTspIds:e="",attr_ids:i=""}){const l=[],s=[],a=[],r=[],n=i.toString().split("-")||[];return t.forEach((t=>{if(1==t.attrType){const i=`${e}`.split(","),l=s.findIndex((e=>e.tagGroupId==t.attr_id)),r=s[l]||{tagGroupId:t.attr_id,tagGroupName:t.attr_name,tagList:[]},n={tagId:t.attr_filter,tagName:t.attr_name,tagValue:t.attr_name};i.includes(n.tagId)&&(n.isSelected=!0,a.push(n)),r.tagList.push(n),l<0&&s.push(r)}else if(1==t.show_group){const e=l.findIndex((e=>e.attr_id==t.attr_id)),i=l[e]||{attr_id:t.attr_id,attr_name:t.attr_name,attr_values:[],groups:[],show_group:1},s={attr_filter:t.attr_filter,attr_id:t.attr_id,group_name:t.group_name,group_image:t.group_image};s.attr_filter&&s.attr_filter.split("-").some((t=>n.includes(t)))&&(s.isSelected=!0,r.push(s)),i.groups.push(s),e<0&&l.push(i)}else{const e=l.findIndex((e=>e.attr_id==t.attr_id)),i=l[e]||{attr_id:t.attr_id,attr_name:t.attr_name,attr_values:[],groups:[],show_group:0},s={attr_filter:`${t.attr_id}_${t.attr_value_id}`,attr_id:t.attr_id,attr_value:t.attr_value,attr_image:""};s.attr_filter&&n.includes(s.attr_filter)&&(s.isSelected=!0,r.push(s)),i.attr_values.push(s),e<0&&l.push(i)}})),{filterAttrs:l,filterTsps:s,selectedTsps:a,selectedAttrs:r}}({attribute:null!==(o=null==e?void 0:e.attribute)&&void 0!==o?o:[],selectTspIds:null!==(h=null==_?void 0:_.tsp_ids)&&void 0!==h?h:"",attr_ids:null!==(v=null==_?void 0:_.attr_ids)&&void 0!==v?v:""});Object.assign(t,function({tagChild:t={}}){if("1"!==(null==t?void 0:t.isShowKidsProfile))return{};const{child:e=[],defaultChild:i={}}=t;return{defaultChild:i,kidsTag:{child_list:e.map((t=>({child_id:t.child_id,nickname:t.nickname,birthday:t.birthday,sex:t.sex})))}}}(e),function({min_price:t="",max_price:e="",listPriceFilterValue:i}){return{filterPrices:{min_price:t,max_price:e,listPriceFilterValue:i}}}(e),s(t,e),function({bannerTag:t={}}){var e,i;return{bannerTag:{tag_id:null!==(e=null==t?void 0:t.tag_id)&&void 0!==e?e:"",showTag:"1"===(null==t?void 0:t.hasOneClickTag)?1:0,billno:null!==(i=null==t?void 0:t.billno)&&void 0!==i?i:"",type:"oneClickPay"}}}(e),function({tags:t=[]}){const e=[],i=["60007129"];return null==t||t.forEach((t=>{!i.includes(t.tag_id)&&e.push({tag_id:t.tag_id,tag_name:t.tag_name,type:t.type,tag_type:t.tag_type,is_sale_tag:t.is_sale_tag,promotionInfo:t.promotionInfo||{},value:t.tag_id,label:t.tag_name,local_mall:t.is_local_mall,quickship_tag:"quickship"==t.tag_id,quickShipText:"quickship"==t.tag_id&&t.tag_name})})),{cloudTags:e}}(e),function(t,{filterSortConfigs:e=[]}){return{cccxFilterConfig:{filterRule:t?e:[]}}}(f,e),{filterTsps:m,selectedTsps:C,filterAttrs:g,selectedAttrs:y,shouldUseCccxFilterChain:f,dailyDates:c(e)})}},440918:(t,e,i)=>{i.d(e,{A:()=>a,m:()=>s});var l=i(794103);class s{constructor(){(0,l.A)(this,"retainQueryObj",{ici:1,icn:1,sort:1,tag_ids:1,tag_type:1,cat_ids:1,adp:1,search_id:1,search_cat:1,srctype:1,userpath:1,is_from_list_feeds:1,hrefTarget:1,ShowTip:1,CouponCode:1,show_daily:1,src_identifier:1,src_module:1,src_tab_page_id:1,mallCode:1,search_type:1,keywords:1,type:1,routeId:1,search_source:1,forceScene:1,mall_tag:1}),(0,l.A)(this,"dailyRetainQueryObj",{ici:1,icn:1,sort:1,cat_ids:1,adp:1,search_id:1,search_cat:1,srctype:1,userpath:1,is_from_list_feeds:1,hrefTarget:1,ShowTip:1,CouponCode:1,show_daily:1,src_identifier:1,src_module:1,src_tab_page_id:1,mallCode:1,search_type:1,keywords:1,type:1,routeId:1,search_source:1}),(0,l.A)(this,"language",{}),(0,l.A)(this,"isSticky",!1),(0,l.A)(this,"Results",{goods:[],staticFilterId:"",staticFilterType:"",flowSlot:{}}),(0,l.A)(this,"Language",{})}}const a=new s},565496:(t,e,i)=>{i.d(e,{A:()=>n});var l=i(377387),s=i(383112);const a=({catInfo:t,searchKeywords:e})=>{const i={};return"search"===t.type?Object.assign(i,{scene:"search",word:null!=e&&e.is_suggest_res?null==e?void 0:e.suggest_words:null==e?void 0:e.origin_words}):"entity"===t.type?Object.assign(i,{scene:"real",cat_id:t.entity_id}):"selection"===t.type&&Object.assign(i,{scene:"select",select_id:t.select_id}),i};async function r({getters:t}){var e,i,r;const{listAbtResult:n,sum:d,language:o,sheinClubInfo:u,catInfo:c,cccConfig:h,goods:v,searchKeywords:_}=t;if(!["page_real_class","page_select_class","page_search"].includes(c.pageName))return null;const p=null==n||null===(e=n.SearchResultRankingList)||void 0===e||null===(i=e.p)||void 0===i?void 0:i.SearchResultRankingListEntrance;if("page_search"===c.pageName&&"N"!==p)return null;const f=(({catInfo:t,cccConfig:e,goods:i,searchKeywords:l})=>{const s=(t.page||1)*(t.limit||10),r=s-(t.limit||10),{rankListModuleSetting:n}=e||{};let d=[];if(n){const t=(null==n?void 0:n.deliverPlace)||"";d=t?t.split(",").map((t=>t>0?t-1:t)).filter((t=>t>=r&&t<=s)):[]}else{var o;const t=(null==e||null===(o=e.flowRankingList)||void 0===o?void 0:o.deliverItemLimitObject)||{};d=Object.keys(t).filter((t=>t>=r&&t<=s))}const u=t.page<=12?i.slice(0,240).map((t=>t.goods_id)).join(","):"";return{deliveryPlaceArr:d,body:{sort:t.sort||0,expose_goods_id:u,...a({catInfo:t,searchKeywords:l})}}})({catInfo:c,cccConfig:h,goods:v,searchKeywords:_});if(null===(r=f.deliveryPlaceArr)||void 0===r||!r.length)return null;const g=f.deliveryPlaceArr.map((t=>(async t=>{const e=await(0,s.A)({method:"GET",url:"/category/rank_list_component",params:t,useBffApi:!0});return null!=e&&e.info&&(e.info.delivery_place=t.delivery_place-1),e})({...f.body,delivery_place:Number(t)+1})));return(await Promise.allSettled(g)).reduce(((t,{value:e})=>{const i=((t,{params:e,listAbtResult:i,language:s,sheinClubInfo:a,goods:r})=>{var n;let d=null==t?void 0:t.info;const{SearchResultRankingList:o,PageClassRankingList:u}=i||{};if(d&&d.title&&null!==(n=d.products)&&void 0!==n&&n.length){var c,h,v;const t=(null===(c=r[0])||void 0===c||null===(h=c.pretreatInfo)||void 0===h||null===(v=h.suggestedSalePriceConfigInfo)||void 0===v?void 0:v.type)||"",i=d.products.map((e=>(0,l.W)(e,{suggestedSaleType:t,language:s||{},lang:gbCommonInfo.lang,isPaid:!(null==a||!a.isPaid)})));let n="1-2";const f=e.body.scene;var _;if(["real","select"].includes(f))"2"===String(null==u||null===(_=u.p)||void 0===_?void 0:_.PageClassRankingListshow)&&(n="1-3");else if("search"===f){var p;"2"===String(null==o||null===(p=o.p)||void 0===p?void 0:p.SearchResultRankingListshow)&&(n="1-3")}d=Object.assign({},d,{from:f,rankStyle:n,goods:i,suggestedSaleType:t}),delete d.products}else d=null;return d})(e,{params:f,listAbtResult:n,language:o,sheinClubInfo:u,goods:v}),s=(({sum:t,cccConfig:e,rankListComponentResult:i})=>{if(!i)return null;const{delivery_place:l}=i,s=e.flowRankingList,a=e.rankListModuleSetting;if(!l||!s&&(null==a||!a.deliverPlace))return null;if(s){var r;const e=null===(r=s.deliverItemLimitObject)||void 0===r?void 0:r.minimumProductImpressions;if(e&&t<e)return null}return i.flowCompTag="RANK_LIST_COMPONENT",{[l]:i}})({sum:d,cccConfig:h,rankListComponentResult:i});return{...t,...s||{}}}),{})}const n={dealingNewData({commit:t,dispatch:e},i){t("dealingFilterAttr",i),t("dealingSelectedFilter",i),t("dealingResults",i),t("dealingGoods",i),e("dealingFlowData")},async dealingFlowData({state:t,getters:e}){if("undefined"==typeof window)return;const i=await r({getters:e})||{};t.Results.flowSlot=Object.assign({},t.Results.flowSlot,i)}}}}]);
//# sourceMappingURL=85218-64b7f4ac924568db.js.map